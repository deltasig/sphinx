@model RosterModel

@{
    ViewBag.Title = "Roster";
}

@section Title
{
    @Html.Partial("_Title")
}

<div class="container">
    @using (Html.BeginForm("Roster", "Account", FormMethod.Get, new { @class = "", role = "form" }))
    {
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-12">
                        @Html.EditorFor(m => m.SearchModel.SearchTerm, new { htmlAttributes = new { @class = "form-control", placeholder = "Name Search" } })
                        <h4><strong>or</strong></h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-3">
                        @Html.DropDownListFor(m => m.SearchModel.SelectedStatusId, Model.SearchModel.Statuses, new { @class = "form-control" })
                    </div>
                    <div class="col-sm-3">
                        @Html.DropDownListFor(m => m.SearchModel.SelectedPledgeClassId, Model.SearchModel.PledgeClasses, new { @class = "form-control" })
                    </div>
                    <div class="col-sm-3">
                        @Html.DropDownListFor(m => m.SearchModel.SelectedGraduationSemesterId, Model.SearchModel.Semesters, new { @class = "form-control" })
                    </div>
                    <div class="col-sm-3">
                        <div class="radio" style="margin:0">
                            <label>
                                <input type="radio" name="SearchModel.LivingType" id="SearchModel.LivingType.Both" value="Both" checked>
                                <small>Both</small>
                            </label>
                        </div>
                        <div class="radio" style="margin:0">
                            <label>
                                <input type="radio" name="SearchModel.LivingType" id="SearchModel.LivingType.InHouse" value="InHouse">
                                <small>In-House</small>
                            </label>
                        </div>
                        <div class="radio" style="margin:0">
                            <label>
                                <input type="radio" name="SearchModel.LivingType" id="SearchModel.LivingType.OutOfHouse" value="OutOfHouse">
                                <small>Out-of-House</small>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <div class="row">
                    <div class="col-sm-2">
                        <input type="submit" value="Search" class="btn btn-default btn-block text-center" />
                    </div>
                </div>
            </div>
        </div>
    }
    <hr />
    <div class="row">
        <div class="col-sm-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <table class="table table-responsive table-condensed">
                        <thead>
                            <tr>
                                <th>Member</th>
                                <th>User Name</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Pledge Class</th>
                                <th>Graduating</th>
                                <th>Big Bro</th>
                                <th>Pin</th>
                                <th>Room</th>
                            </tr>
                        </thead>
                        @if (Model.Members.Any())
                        {
                            foreach (var item in Model.Members)
                            {
                                <tr>
                                    <td>@item.ToString()</td>
                                    <td>@item.UserName</td>
                                    <td><a href="mailto:@item.Email">@item.Email</a></td>
                                    <td>@item.MemberStatus.StatusName</td>
                                    <td>@item.PledgeClass.PledgeClassName</td>
                                    <td>@item.Semester.ToString()</td>
                                    <td>
                                        @if (item.BigBroId != null)
                                        {
                                            @item.BigBrother.ToString()
                                        }
                                        else
                                        {
                                            @:None
                                        }
                                    </td>
                                    <td>@item.Pin</td>
                                    <td>@item.RoomString()</td>
                                    <td>
                                        @if (User.IsInRole("Administrator") || User.IsInRole("Secretary"))
                                        {
                                            @Html.ActionLink("Edit", "Edit", "Account", new { userName = item.UserName }, null) @:|
                                        }
                                        @Html.ActionLink("Profile", "Index", "Account", new { userName = item.UserName }, null)
                                    </td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr><td>No members were found.</td></tr>
                        }
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
