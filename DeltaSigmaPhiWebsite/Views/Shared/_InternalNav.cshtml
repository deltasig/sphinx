<div class="navbar navbar-default navbar-fixed-top" style="margin-bottom: 0">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="~/">
                <img src="~/Images/MobileTouch-57x57.png" width="40" height="40" alt="Edit" style="margin: 3px 10px 3px 0px" />
            </a>
        </div>
        <div class="navbar-collapse collapse">
            <div class="hidden-lg" id="login">
                <ul class="nav navbar-nav navbar-right">
                    @Html.Partial("_LoginPartial")
                </ul>
            </div>
            <ul class="nav navbar-nav" id="menu">
                @if (Request.IsAuthenticated && !User.IsInRole("Released"))
                {
                    <li class="@(ViewContext.RouteData.Values["Controller"] == "Sphinx" && ViewContext.RouteData.Values["Action"].ToString() == "Index" ? "active" : "")">
                        @Html.ActionLink("Sphinx", "Index", "Home", new { area = "Sphinx" }, new { title = "Sphinx" })
                    </li>
                    if (User.IsInRole("Administrator") || User.IsInRole("President") || User.IsInRole("Vice President Growth") || User.IsInRole("Secretary") ||
                        User.IsInRole("Director of Recruitment") || User.IsInRole("New Member Education") || User.IsInRole("Academics") || User.IsInRole("Service"))
                    {
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Admin <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                @if (User.IsInRole("Administrator"))
                                {
                                    <li>@Html.ActionLink("Appointments", "Appointments", "Positions", new { area = "Admin" }, null)</li>
                                    <li>@Html.ActionLink("Positions", "Index", "Positions", new { area = "Admin" }, null)</li>
                                    <li>@Html.ActionLink("Registration", "Registration", "Account", new { area = "Members" }, null)</li>
                                    <li>@Html.ActionLink("Semesters", "Index", "Semesters", new { area = "Admin" }, null)</li>
                                    <li>@Html.ActionLink("Statuses", "Index", "Statuses", new { area = "Admin" }, null)</li>
                                }
                                else
                                {
                                    if (User.IsInRole("President"))
                                    {
                                        <li>@Html.ActionLink("Appointments", "Appointments", "Positions", new { area = "Admin" }, null)</li>
                                        <li>@Html.ActionLink("Positions", "Index", "Positions", new { area = "Admin" }, null)</li>
                                        <li>@Html.ActionLink("Semesters", "Index", "Semesters", new { area = "Admin" }, null)</li>
                                    }
                                    if (User.IsInRole("Secretary") || User.IsInRole("Director of Recruitment") ||
                                        User.IsInRole("New Member Education") || User.IsInRole("Vice President Growth"))
                                    {
                                        <li>@Html.ActionLink("Registration", "Registration", "Account", new { area = "Members" }, null)</li>
                                    }
                                    if (User.IsInRole("Secretary") || User.IsInRole("Academics") || User.IsInRole("Service"))
                                    {
                                        <li>@Html.ActionLink("Semesters", "Index", "Semesters", new { area = "Admin" }, null)</li>
                                    }
                                }
                            </ul>
                        </li>
                    }
                    if (User.IsInRole("Administrator") || User.IsInRole("Pledge") || User.IsInRole("Neophyte") || User.IsInRole("Active"))
                    {
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Academics <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li>@Html.ActionLink("Study Periods", "Index", "Periods", new { area = "Study" }, null)</li>
                                <li>@Html.ActionLink("Unapproved Study Hours", "Unapproved", "Hours", new { area = "Study" }, null)</li>
                                <li>@Html.ActionLink("Class Index", "Index", "Classes", new { area = "Edu" }, null)</li>
                            </ul>
                        </li>
                    }
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Service <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>@Html.ActionLink("Service Hours", "Index", "Hours", new { area = "Service" }, null)</li>
                            @if (User.IsInRole("Administrator") || User.IsInRole("Pledge") || User.IsInRole("Neophyte") || User.IsInRole("Active"))
                            {
                                <li>@Html.ActionLink("Service Events", "Index", "Events", new { area = "Service" }, null)</li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Recruitment <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>@Html.ActionLink("Scholarships", "Index", "Applications", new { area = "Scholarships" }, null)</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Members <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li>@Html.ActionLink("Roster", "Index", "Roster", new { area = "Members" }, null)</li>
                            <li>@Html.ActionLink("Addresses", "Index", "Addresses", new { area = "Members" }, null)</li>
                            <li>@Html.ActionLink("Phone Numbers", "Index", "PhoneNumbers", new { area = "Members" }, null)</li>
                            <li>@Html.ActionLink("Incidents", "Index", "Incidents", new { area = "Members" }, null)</li>
                            <li class="dropdown-header">Alumni-Related</li>
                            <li>@Html.ActionLink("Alumni Leaders", "Index", "Leaders", new { area = "Alumni" }, null)</li>
                        </ul>
                    </li>
                    <li class="@(ViewBag.Title == "Sober Schedule" ? "active" : "")">
                        @Html.ActionLink("Sobers", "Schedule", "Sobers", new { area = "Sphinx" }, null)
                    </li>
                    if (User.IsInRole("Administrator") || User.IsInRole("Pledge") || User.IsInRole("Neophyte") || User.IsInRole("Active"))
                    {
                        <li class="@(ViewBag.Title == "Laundry Signup" ? "active" : "")">
                            @Html.ActionLink("Laundry", "Schedule", "Laundry", new { area = "Sphinx" }, null)
                        </li>
                    }
                    <li class="@(ViewBag.Title == "Meal Schedule" ? "active" : "")">
                        @Html.ActionLink("Meals", "Index", "Schedule", new { area = "Kitchen" }, null)
                    </li>
                }
                else
                {
                    <li><p class="navbar-text"></p></li>
                }
            </ul>
            <div class="visible-lg" id="login">
                <ul class="nav navbar-nav navbar-right">
                    @Html.Partial("_LoginPartial")
                </ul>
            </div>
        </div>
    </div>
</div>